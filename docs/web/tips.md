# 前端知识点
## [commonjs 与 esm 的区别](https://juejin.cn/post/6844903861166014478)
参考：
[阮一峰的《es6标准入门》](https://es6.ruanyifeng.com/#docs/module-loader#ES6-%E6%A8%A1%E5%9D%97%E4%B8%8E-CommonJS-%E6%A8%A1%E5%9D%97%E7%9A%84%E5%B7%AE%E5%BC%82)

主要区别可以概括成以下几点：

1. 输出拷贝 vs 输出引用
模块内部引用的变化，会反应在外部

2. esm 的 import read-only 特性
import 的属性是只读的，不能赋值，类似于 const 的特性

3. esm 存在 export/import 提升

## 异步阶段
defer是“渲染完再执行”，async是“下载完就执行”。
如果有多个defer脚本，会按照它们在页面出现的顺序加载，而多个async脚本是不能保证加载顺序的。

ES6特性：
代码是在模块作用域之中运行，而不是在全局作用域运行。模块内部的顶层变量，外部不可见。
模块脚本自动采用严格模式，不管有没有声明use strict。
模块之中，可以使用import命令加载其他模块，也可以使用export命令输出对外接口。
模块之中，顶层的this关键字返回undefined，而不是指向window。也就是说，在模块顶层使用this关键字，是无意义的。
同一个模块如果加载多次，将只执行一次。
ES6 模块输出的是值的引用。
ES6 模块的import命令是异步加载，有一个独立的模块依赖的解析阶段。

ES6 模块是动态引用，并且不会缓存值，模块里面的变量绑定其所在的模块。
ES6 输入的模块变量，变量是只读的，对它进行重新赋值会报错。
不同的脚本加载相同模块，得到的都是同一个实例。




